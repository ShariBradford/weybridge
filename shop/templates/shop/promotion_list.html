{% extends 'shop/base.html' %}
{% load static humanize %}

{% block css %}
<link rel="stylesheet" href="{% static 'shop/css/dashboard.css' %}">
{% endblock css %}

{% block greeting %}{% if user.is_authenticated %} {{ user.first_name }}{% else %}{% endif %}{% endblock greeting %}

{% block favorites %}
{% if user.is_authenticated %}
<a href="{% url 'shop:favorite_products' %}" class="nav-link"><i class="fas fa-bookmark"></i>Favorites</a>
{% else %}
{% endif %}
{% endblock favorites %}

{% block profile %}
{% if user.is_authenticated %}
<a href="{% url 'accounts:user_profile' profiled_user_id=user.id %}" class="nav-link"><i
    class="fas fa-user-cog"></i>Profile</a>
{% else %}
<a href="{% url 'accounts:signup' %}" class="nav-link"><i class="fas fa-user-cog"></i>Register</a>
{% endif %}
{% endblock profile %}

{% block login %}
{% if user.is_authenticated %}
<a href="{% url 'logout' %}" class="nav-link"><i class="fas fa-sign-out-alt"></i>Logout</a>
{% else %}
<a href="{% url 'login' %}" class="nav-link"><i class="fas fa-sign-in-alt"></i>Login</a>
{% endif %}
{% endblock login %}



{% block content %}
<table class="table">
    <thead>
        <th>Product</th>
        <th>Retail Price</th>
        <th>Sale Price</th>
        <th>Start Date</th>
        <th>End Date</th>
    </thead>
    <tbody>
        {% for promotion in object_list %}
        <tr>
            <td>
                <a href="{% url 'shop:promotion_details' pk=promotion.id %}">
                    {{ promotion.product.name }}
                </a>
            </td>
            <td>${{ promotion.product.price|floatformat:2|intcomma }}</td>
            <td>${{ promotion.sale_price|floatformat:2|intcomma }}</td>
            <td>{{ promotion.start_date }}</td>
            <td>{{ promotion.end_date }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock%}